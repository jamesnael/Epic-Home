(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0qT7":function(a,t,e){(a.exports=e("I1BE")(!1)).push([a.i,"#office-map,#unit-secondary-map{min-height:400px;height:100%}",""])},"8kWJ":function(a,t,e){"use strict";e.r(t);var n=e("e7F3"),r=e("TJPC"),i=e("enAU");Object(n.c)("required",r.h),Object(n.c)("email",r.b),Object(n.c)("numeric",r.f),Object(n.c)("image",r.c),Object(n.c)("regex",r.g),Object(n.c)("max",r.d),Object(n.d)("id",i);var l={components:{ValidationObserver:n.a,ValidationProvider:n.b},props:{actionForm:{type:String,required:!0},redirectUri:{type:String,required:!0},dataUri:{type:String,default:""},filterTipeBangunan:{type:Array,default:function(){return[]}},kelengkapanSurat:{type:Array,default:function(){return[]}},furnitureTermasuk:{type:Array,default:function(){return[]}},filterOpenHouse:{type:Array,default:function(){return[]}},filterJenisPembayaran:{type:Array,default:function(){return[]}},filterStatusUnit:{type:Array,default:function(){return[]}},filterSertifikat:{type:Array,default:function(){return[]}},filterBersediaDipasang:{type:Array,default:function(){return[]}},filterApprovedStatus:{type:Array,default:function(){return[]}},filterKondisiBangunan:{type:Array,default:function(){return[]}}},data:function(){return{form_data:{id_tipe_bangunan:"",status_unit:"",nama_unit:"",alamat:"",kota:"",kecamatan:"",luas_tanah:"",luas_bangunan:"",kondisi_bangunan:"",lebar_jalan_depan:"",sertifikat:"",atas_nama:"",kelengkapan_surat:[],jumlah_kamar_tidur:"",jumlah_lantai:"",jumlah_kamar_mandi:"",jumlah_garasi_mobil:"",listrik:"",line_telepon:"",air:"",furniture_termasuk:[],deskripsi_unit:"",harga_unit:"",harga_per_meter:"",jenis_pembayaran:"",nama_pemilik:"",alamat_lengkap_pemilik:"",no_telepon_pemilik:"",no_npwp_pemilik:"",bersedia_dipasang:"",jangka_waktu_pemasangan:"",open_house:"",gallery_unit:[],approved_status:"",latitude:"",longitude:""},field_state:!1,form_alert_state:!1,form_alert_color:"",form_alert_text:""}},mounted:function(){this.getFormData(),this.checkGoogleInit()},methods:{getFormData:function(){var a=this;this.dataUri&&(this.field_state=!0,axios.get(this.dataUri).then((function(t){if(t.data.success){var e=t.data.data;a.form_data={id_tipe_bangunan:e.id_tipe_bangunan,status_unit:e.status_unit,nama_unit:e.nama_unit,alamat:e.alamat,kota:e.kota,kecamatan:e.kecamatan,luas_tanah:e.luas_tanah,luas_bangunan:e.luas_bangunan,kondisi_bangunan:e.kondisi_bangunan,lebar_jalan_depan:e.lebar_jalan_depan,sertifikat:e.sertifikat,atas_nama:e.atas_nama,kelengkapan_surat:e.kelengkapan_surat?e.kelengkapan_surat:[],jumlah_kamar_tidur:e.jumlah_kamar_tidur,jumlah_lantai:e.jumlah_lantai,jumlah_kamar_mandi:e.jumlah_kamar_mandi,jumlah_garasi_mobil:e.jumlah_garasi_mobil,listrik:e.listrik,line_telepon:e.line_telepon,air:e.air,furniture_termasuk:e.furniture_termasuk?e.furniture_termasuk:[],deskripsi_unit:e.deskripsi_unit,harga_unit:e.harga_unit,harga_per_meter:e.harga_per_meter,jenis_pembayaran:e.jenis_pembayaran,nama_pemilik:e.nama_pemilik,alamat_lengkap_pemilik:e.alamat_lengkap_pemilik,no_telepon_pemilik:e.no_telepon_pemilik,no_npwp_pemilik:e.no_npwp_pemilik,bersedia_dipasang:e.bersedia_dipasang,jangka_waktu_pemasangan:e.jangka_waktu_pemasangan,open_house:e.open_house,gallery_unit:JSON.parse(e.gallery_unit),approved_status:e.approved_status,for_status:e.nama_unit,latitude:e.latitude,longitude:e.longitude,url_gallery_unit:e.url_gallery_unit},a.field_state=!1}else a.form_alert_state=!0,a.form_alert_color="error",a.form_alert_text=t.data.message,a.field_state=!1})).catch((function(t){a.form_alert_state=!0,a.form_alert_color="error",a.form_alert_text=response.data.message,a.field_state=!1})))},clearForm:function(){this.form_data={id_tipe_bangunan:"",status_unit:"",nama_unit:"",alamat:"",kota:"",kecamatan:"",luas_tanah:"",luas_bangunan:"",kondisi_bangunan:"",lebar_jalan_depan:"",sertifikat:"",atas_nama:"",kelengkapan_surat:[],jumlah_kamar_tidur:"",jumlah_lantai:"",jumlah_kamar_mandi:"",jumlah_garasi_mobil:"",listrik:"",line_telepon:"",air:"",furniture_termasuk:[],deskripsi_unit:"",harga_unit:"",harga_per_meter:"",jenis_pembayaran:"",nama_pemilik:"",alamat_lengkap_pemilik:"",no_telepon_pemilik:"",no_npwp_pemilik:"",bersedia_dipasang:"",jangka_waktu_pemasangan:"",open_house:"",gallery_unit:"",approved_status:"",for_status:"",latitude:"",longitude:""},this.$refs.observer.reset()},submitForm:function(){var a=this;this.$refs.observer.validate().then((function(t){t&&(a.field_state=!0,a.postFormData())}))},postFormData:function(){var a=this,t=new FormData(this.$refs["post-form"]);_.isEmpty(this.form_data.kelengkapan_surat)&&data.append("kelengkapan_surat[]",""),_.isEmpty(this.form_data.furniture_termasuk)&&data.append("furniture_termasuk[]",""),this.dataUri&&t.append("_method","put"),axios.post(this.actionForm,t).then((function(t){t.data.success?(a.form_alert_state=!0,a.form_alert_color="success",a.form_alert_text=t.data.message,setTimeout((function(){a.goto(a.redirectUri)}),6e3)):(a.field_state=!1,a.form_alert_state=!0,a.form_alert_color="error",a.form_alert_text=t.data.message)})).catch((function(t){a.field_state=!1,a.form_alert_state=!0,a.form_alert_color="error",a.form_alert_text="Oops, something went wrong. Please try again later."}))},checkGoogleInit:function(){var a=this;setTimeout((function(){"undefined"==typeof google?a.checkGoogleInit():a.GMapsUnitSecondaryInit()}),500)},GMapsUnitSecondaryInit:function(){var a=this;if(this.form_data.latitude&&this.form_data.longitude){var t=new google.maps.Map(document.getElementById("unit-secondary-map"),{center:{lat:parseFloat(this.form_data.latitude),lng:parseFloat(this.form_data.longitude)},zoom:14}),e=new google.maps.Marker({position:{lat:parseFloat(this.form_data.latitude),lng:parseFloat(this.form_data.longitude)},map:t});t.panTo({lat:parseFloat(this.form_data.latitude),lng:parseFloat(this.form_data.longitude)})}else t=new google.maps.Map(document.getElementById("unit-secondary-map"),{center:{lat:-6.1767287,lng:106.829541},zoom:14});t.addListener("click",(function(n){a.form_data.latitude=n.latLng.lat(),a.form_data.longitude=n.latLng.lng(),e&&e.setMap(null),e=new google.maps.Marker({position:n.latLng,map:t}),t.panTo(n.latLng)}))}}},o=(e("IHcT"),e("KHd+")),s=Object(o.a)(l,void 0,void 0,!1,null,null,null);t.default=s.exports},HYHa:function(a,t,e){var n=e("0qT7");"string"==typeof n&&(n=[[a.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(n,r);n.locals&&(a.exports=n.locals)},IHcT:function(a,t,e){"use strict";var n=e("HYHa");e.n(n).a}}]);